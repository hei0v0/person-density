{"ast":null,"code":"var _jsxFileName = \"D:\\\\Zry\\\\Works\\\\person-density\\\\src\\\\pages\\\\mainRouter\\\\MainRouter.js\",\n  _s = $RefreshSig$();\nimport { Breadcrumb, Layout, Menu } from \"antd\";\nimport { useNavigate } from \"react-router-dom\";\nimport React, { useEffect, useState } from \"react\";\nimport \"./index.css\";\nimport MainBox from \"../mainBox/MainBox\";\nimport { getCache, setCache } from \"../../utils/cache\";\nimport PubSub from \"pubsub-js\";\nimport { showTime } from \"../../utils/showTime\";\nimport FullScreenImage from \"../bgiCover/bgiCover\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Header,\n  Content,\n  Footer\n} = Layout;\nconst items = [{\n  key: \"/welcome\",\n  label: \"主页\"\n}, {\n  key: \"/detection\",\n  label: \"密度监测\"\n}];\nexport default function MainRouter() {\n  _s();\n  const navigate = useNavigate();\n  const [item, setItem] = useState({\n    key: \"/welcome\",\n    label: \"欢迎\"\n  });\n  const isGraph = getCache(\"isGraph\");\n  const [isEnter, setIsEnter] = useState(false);\n  const [stopMouseLeave, setStopMouseLeave] = useState(false);\n  useEffect(() => {\n    if (item.key !== \"/detection\") {\n      setCache(\"isGraph\", false);\n    }\n    navigate(item.key);\n  }, [item, navigate, isGraph]);\n  const handleClick = idx => {\n    setItem(idx);\n    navigate(idx.key, {\n      replace: false\n    });\n  };\n  const findLabel = key => {\n    for (const item of items) {\n      if (item.key === key) {\n        return item.label;\n      }\n    }\n    return \"\";\n  };\n  const handleMouseClick = () => {\n    if (stopMouseLeave) {\n      handleMouse(false);\n      // 启用鼠标移入\n      setStopMouseLeave(false);\n    } else {\n      handleMouse(true);\n      // 禁用鼠标移入\n      setStopMouseLeave(true);\n    }\n  };\n  const handleMouseEnter = () => {\n    handleMouse(true);\n  };\n  const handleMouseLeave = () => {\n    handleMouse(false);\n  };\n  const handleMouse = flag => {\n    setIsEnter(flag);\n    PubSub.publish(\"isEnter\", flag);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(FullScreenImage, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Layout, {\n      className: \"active\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        style: {\n          position: \"fixed\",\n          width: \"100%\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Menu, {\n          theme: \"dark\",\n          mode: \"horizontal\",\n          defaultSelectedKeys: item.key,\n          selectedKeys: item.key,\n          onClick: idx => handleClick(idx),\n          items: items\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: \"white\",\n            margin: \"0 auto\",\n            width: \"550px\",\n            textAlign: \"center\",\n            marginTop: \"-64px\",\n            fontWeight: \"bold\",\n            fontSize: \"22px\"\n          },\n          children: \"\\u201C\\u96C6\\u201D\\u4E2D\\u751F\\u667A\\u2014\\u2014\\u5BC6\\u96C6\\u4EBA\\u7FA4\\u6001\\u52BF\\u667A\\u80FD\\u611F\\u77E5\\u5E73\\u53F0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), isEnter && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"board-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"board-title\",\n          style: {\n            fontFamily: \"myFont\"\n          },\n          children: SYSTEM_NAME.split(\"：\")[1]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"showTime\",\n          children: showTime()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Content, {\n        className: isEnter ? \"site-layout-active\" : \"site-layout\",\n        style: {\n          padding: \"0 50px\",\n          marginTop: 64\n        },\n        children: [!isEnter && /*#__PURE__*/_jsxDEV(Breadcrumb, {\n          style: {\n            margin: \"16px 0\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Breadcrumb.Item, {\n            children: \"App\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Breadcrumb.Item, {\n            children: findLabel(item.key)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"site-layout-background\",\n          style: {\n            padding: 24,\n            minHeight: 380,\n            marginTop: 30\n          },\n          children: /*#__PURE__*/_jsxDEV(MainBox, {\n            item: item\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), !isEnter && /*#__PURE__*/_jsxDEV(Footer, {\n        style: {\n          textAlign: \"center\",\n          letterSpacing: \"2px\",\n          color: \"#aaa\"\n        },\n        children: SYSTEM_NAME\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n}\n_s(MainRouter, \"OQ2Om2fvtWfuFlMy/hDoEKjOZlg=\", false, function () {\n  return [useNavigate];\n});\n_c = MainRouter;\nvar _c;\n$RefreshReg$(_c, \"MainRouter\");","map":{"version":3,"names":["Breadcrumb","Layout","Menu","useNavigate","React","useEffect","useState","MainBox","getCache","setCache","PubSub","showTime","FullScreenImage","Header","Content","Footer","items","key","label","MainRouter","navigate","item","setItem","isGraph","isEnter","setIsEnter","stopMouseLeave","setStopMouseLeave","handleClick","idx","replace","findLabel","handleMouseClick","handleMouse","handleMouseEnter","handleMouseLeave","flag","publish","position","width","color","margin","textAlign","marginTop","fontWeight","fontSize","fontFamily","SYSTEM_NAME","split","padding","minHeight","letterSpacing"],"sources":["D:/Zry/Works/person-density/src/pages/mainRouter/MainRouter.js"],"sourcesContent":["import { Breadcrumb, Layout, Menu } from \"antd\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport \"./index.css\";\r\nimport MainBox from \"../mainBox/MainBox\";\r\nimport { getCache, setCache } from \"../../utils/cache\";\r\nimport PubSub from \"pubsub-js\";\r\nimport { showTime } from \"../../utils/showTime\";\r\nimport FullScreenImage from \"../bgiCover/bgiCover\";\r\n\r\nconst { Header, Content, Footer } = Layout;\r\nconst items = [\r\n  {\r\n    key: \"/welcome\",\r\n    label: \"主页\",\r\n  },\r\n  {\r\n    key: \"/detection\",\r\n    label: \"密度监测\",\r\n  },\r\n];\r\n\r\nexport default function MainRouter() {\r\n  const navigate = useNavigate();\r\n  const [item, setItem] = useState({ key: \"/welcome\", label: \"欢迎\" });\r\n  const isGraph = getCache(\"isGraph\");\r\n  const [isEnter, setIsEnter] = useState(false);\r\n  const [stopMouseLeave, setStopMouseLeave] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (item.key !== \"/detection\") {\r\n      setCache(\"isGraph\", false);\r\n    }\r\n    navigate(item.key);\r\n  }, [item, navigate, isGraph]);\r\n\r\n  const handleClick = (idx) => {\r\n    setItem(idx);\r\n    navigate(idx.key, { replace: false });\r\n  };\r\n\r\n  const findLabel = (key) => {\r\n    for (const item of items) {\r\n      if (item.key === key) {\r\n        return item.label;\r\n      }\r\n    }\r\n    return \"\";\r\n  };\r\n\r\n  const handleMouseClick = () => {\r\n    if (stopMouseLeave) {\r\n      handleMouse(false);\r\n      // 启用鼠标移入\r\n      setStopMouseLeave(false);\r\n    } else {\r\n      handleMouse(true);\r\n      // 禁用鼠标移入\r\n      setStopMouseLeave(true);\r\n    }\r\n  };\r\n\r\n  const handleMouseEnter = () => {\r\n    handleMouse(true);\r\n  };\r\n\r\n  const handleMouseLeave = () => {\r\n    handleMouse(false);\r\n  };\r\n\r\n  const handleMouse = (flag) => {\r\n    setIsEnter(flag);\r\n    PubSub.publish(\"isEnter\", flag);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <FullScreenImage />\r\n      <Layout className={\"active\"}>\r\n        <Header\r\n          style={{\r\n            position: \"fixed\",\r\n            width: \"100%\",\r\n          }}\r\n        >\r\n          <div className=\"logo\" />\r\n          <Menu\r\n            theme=\"dark\"\r\n            mode=\"horizontal\"\r\n            defaultSelectedKeys={item.key}\r\n            selectedKeys={item.key}\r\n            onClick={(idx) => handleClick(idx)}\r\n            items={items}\r\n          />\r\n          <div\r\n            style={{\r\n              color: \"white\",\r\n              margin: \"0 auto\",\r\n              width: \"550px\",\r\n              textAlign: \"center\",\r\n              marginTop: \"-64px\",\r\n              fontWeight: \"bold\",\r\n              fontSize: \"22px\",\r\n            }}\r\n          >\r\n            “集”中生智——密集人群态势智能感知平台\r\n          </div>\r\n        </Header>\r\n\r\n        {isEnter && (\r\n          <div className=\"board-header\">\r\n            <h1 className=\"board-title\" style={{ fontFamily: \"myFont\" }}>\r\n              {SYSTEM_NAME.split(\"：\")[1]}\r\n            </h1>\r\n            <div className=\"showTime\">{showTime()}</div>\r\n          </div>\r\n        )}\r\n        <Content\r\n          className={isEnter ? \"site-layout-active\" : \"site-layout\"}\r\n          style={{\r\n            padding: \"0 50px\",\r\n            marginTop: 64,\r\n          }}\r\n        >\r\n          {!isEnter && (\r\n            <Breadcrumb\r\n              style={{\r\n                margin: \"16px 0\",\r\n              }}\r\n            >\r\n              <Breadcrumb.Item>App</Breadcrumb.Item>\r\n              <Breadcrumb.Item>{findLabel(item.key)}</Breadcrumb.Item>\r\n            </Breadcrumb>\r\n          )}\r\n          <div\r\n            className=\"site-layout-background\"\r\n            style={{\r\n              padding: 24,\r\n              minHeight: 380,\r\n              marginTop: 30,\r\n            }}\r\n          >\r\n            <MainBox item={item} />\r\n          </div>\r\n        </Content>\r\n        {!isEnter && (\r\n          <Footer\r\n            style={{\r\n              textAlign: \"center\",\r\n              letterSpacing: \"2px\",\r\n              color: \"#aaa\",\r\n            }}\r\n          >\r\n            {SYSTEM_NAME}\r\n          </Footer>\r\n        )}\r\n      </Layout>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}