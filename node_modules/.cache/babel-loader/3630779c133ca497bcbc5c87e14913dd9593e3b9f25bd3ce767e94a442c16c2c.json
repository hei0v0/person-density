{"ast":null,"code":"var _jsxFileName = \"D:\\\\Zry\\\\Works\\\\person-density\\\\src\\\\pages\\\\mainRouter\\\\MainRouter.js\",\n  _s = $RefreshSig$();\nimport { Breadcrumb, Layout, Menu } from 'antd';\nimport { useNavigate } from 'react-router-dom';\nimport React, { useEffect, useState } from 'react';\nimport './index.css';\nimport MainBox from '../mainBox/MainBox';\nimport { getCache, setCache } from \"../../utils/cache\";\nimport PubSub from 'pubsub-js';\nimport { showTime } from '../../utils/showTime';\nimport FullScreenImage from '../bgiCover/bgiCover';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Header,\n  Content,\n  Footer\n} = Layout;\nconst items = [{\n  key: \"/welcome\",\n  label: \"主页\"\n}, {\n  key: \"/detection\",\n  label: \"密度监测\"\n}];\nexport default function MainRouter() {\n  _s();\n  const navigate = useNavigate();\n  const [item, setItem] = useState({\n    'key': '/welcome',\n    'label': '欢迎'\n  });\n  const SYSTEM_NAME = \"\";\n  const isGraph = getCache('isGraph');\n  const [isEnter, setIsEnter] = useState(false);\n  const [stopMouseLeave, setStopMouseLeave] = useState(false);\n  useEffect(() => {\n    if (item.key !== \"/detection\") {\n      setCache('isGraph', false);\n    }\n    navigate(item.key);\n  }, [item, navigate, isGraph]);\n  const handleClick = idx => {\n    setItem(idx);\n    navigate(idx.key, {\n      replace: false\n    });\n  };\n  const findLabel = key => {\n    for (const item of items) {\n      if (item.key === key) {\n        return item.label;\n      }\n    }\n    return \"\";\n  };\n  const handleMouseClick = () => {\n    if (stopMouseLeave) {\n      handleMouse(false);\n      // 启用鼠标移入\n      setStopMouseLeave(false);\n    } else {\n      handleMouse(true);\n      // 禁用鼠标移入\n      setStopMouseLeave(true);\n    }\n  };\n  const handleMouseEnter = () => {\n    handleMouse(true);\n  };\n  const handleMouseLeave = () => {\n    handleMouse(false);\n  };\n  const handleMouse = flag => {\n    setIsEnter(flag);\n    PubSub.publish('isEnter', flag);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(FullScreenImage, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Layout, {\n      className: \"active\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        className: isEnter ? \"header-active\" : \"\",\n        style: {\n          position: 'fixed',\n          zIndex: 1,\n          width: '100%'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Menu, {\n          theme: \"dark\",\n          mode: \"horizontal\",\n          defaultSelectedKeys: item.key,\n          selectedKeys: item.key,\n          onClick: idx => handleClick(idx),\n          items: items\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: 'white',\n            margin: '0 auto',\n            width: \"550px\",\n            textAlign: \"center\",\n            marginTop: '-64px',\n            fontWeight: 'bold',\n            fontSize: '22px'\n          },\n          children: \"\\u201C\\u96C6\\u201D\\u4E2D\\u751F\\u667A\\u2014\\u2014\\u5BC6\\u96C6\\u4EBA\\u7FA4\\u6001\\u52BF\\u667A\\u80FD\\u611F\\u77E5\\u5E73\\u53F0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }, this), isEnter && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"board-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"board-title\",\n          style: {\n            fontFamily: \"myFont\"\n          },\n          children: SYSTEM_NAME.split(\"：\")[1]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"showTime\",\n          children: showTime()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(Content, {\n        className: isEnter ? \"site-layout-active\" : \"site-layout\",\n        style: {\n          padding: '0 50px',\n          marginTop: 64\n        },\n        children: [!isEnter && /*#__PURE__*/_jsxDEV(Breadcrumb, {\n          style: {\n            margin: '16px 0'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Breadcrumb.Item, {\n            children: \"App\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Breadcrumb.Item, {\n            children: findLabel(item.key)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 30\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"site-layout-background\",\n          style: {\n            padding: 24,\n            minHeight: 380,\n            marginTop: 30\n          },\n          children: /*#__PURE__*/_jsxDEV(MainBox, {\n            item: item\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 13\n      }, this), !isEnter && /*#__PURE__*/_jsxDEV(Footer, {\n        style: {\n          textAlign: 'center',\n          letterSpacing: '2px',\n          color: \"#aaa\"\n        },\n        children: SYSTEM_NAME\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 26\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 9\n  }, this);\n}\n_s(MainRouter, \"LR7pYYsOiLaMSouuc9400PZSPps=\", false, function () {\n  return [useNavigate];\n});\n_c = MainRouter;\nvar _c;\n$RefreshReg$(_c, \"MainRouter\");","map":{"version":3,"names":["Breadcrumb","Layout","Menu","useNavigate","React","useEffect","useState","MainBox","getCache","setCache","PubSub","showTime","FullScreenImage","Header","Content","Footer","items","key","label","MainRouter","navigate","item","setItem","SYSTEM_NAME","isGraph","isEnter","setIsEnter","stopMouseLeave","setStopMouseLeave","handleClick","idx","replace","findLabel","handleMouseClick","handleMouse","handleMouseEnter","handleMouseLeave","flag","publish","position","zIndex","width","color","margin","textAlign","marginTop","fontWeight","fontSize","fontFamily","split","padding","minHeight","letterSpacing"],"sources":["D:/Zry/Works/person-density/src/pages/mainRouter/MainRouter.js"],"sourcesContent":["import { Breadcrumb, Layout, Menu } from 'antd';\r\nimport { useNavigate } from 'react-router-dom'\r\nimport React, { useEffect, useState } from 'react';\r\nimport './index.css'\r\nimport MainBox from '../mainBox/MainBox';\r\nimport { getCache, setCache } from \"../../utils/cache\"\r\nimport PubSub from 'pubsub-js';\r\nimport { showTime } from '../../utils/showTime';\r\nimport FullScreenImage  from '../bgiCover/bgiCover'\r\n\r\nconst { Header, Content, Footer } = Layout;\r\nconst items = [\r\n    {\r\n        key: \"/welcome\",\r\n        label: \"主页\"\r\n    },\r\n    {\r\n        key: \"/detection\",\r\n        label: \"密度监测\"\r\n    },\r\n]\r\n\r\n\r\nexport default function MainRouter() {\r\n    const navigate = useNavigate()\r\n    const [item, setItem] = useState({ 'key': '/welcome', 'label': '欢迎' })\r\n    const SYSTEM_NAME = \"\"\r\n    const isGraph = getCache('isGraph')\r\n    const [isEnter, setIsEnter] = useState(false)\r\n    const [stopMouseLeave, setStopMouseLeave] = useState(false)\r\n\r\n    useEffect(() => {\r\n        if (item.key !== \"/detection\") {\r\n            setCache('isGraph', false)\r\n        }\r\n        navigate(item.key)\r\n    }, [item, navigate, isGraph])\r\n\r\n    const handleClick = (idx) => {\r\n        setItem(idx)\r\n        navigate(idx.key, { replace: false })\r\n    }\r\n\r\n    const findLabel = (key) => {\r\n        for (const item of items) {\r\n            if (item.key === key) {\r\n                return item.label\r\n            }\r\n        }\r\n        return \"\"\r\n    }\r\n\r\n    const handleMouseClick = () => {\r\n        if (stopMouseLeave) {\r\n            handleMouse(false)\r\n            // 启用鼠标移入\r\n            setStopMouseLeave(false)\r\n        } else {\r\n            handleMouse(true)\r\n            // 禁用鼠标移入\r\n            setStopMouseLeave(true)\r\n        }\r\n    }\r\n\r\n    const handleMouseEnter = () => {\r\n        handleMouse(true)\r\n    }\r\n\r\n    const handleMouseLeave = () => {\r\n        handleMouse(false)\r\n    }\r\n\r\n    const handleMouse = (flag) => {\r\n        setIsEnter(flag)\r\n        PubSub.publish('isEnter', flag)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n        <FullScreenImage />\r\n        <Layout className={\"active\"}>\r\n            <Header\r\n                className={isEnter ? \"header-active\" : \"\"}\r\n                style={{\r\n                    position: 'fixed',\r\n                    zIndex: 1,\r\n                    width: '100%',\r\n                }}\r\n            >\r\n                <div className=\"logo\" />\r\n                <Menu\r\n                    theme=\"dark\"\r\n                    mode=\"horizontal\"\r\n                    defaultSelectedKeys={item.key}\r\n                    selectedKeys={item.key}\r\n                    onClick={(idx) => handleClick(idx)}\r\n                    items={items}\r\n                />\r\n                <div style={{color:'white', margin:'0 auto',width:\"550px\",textAlign:\"center\",marginTop:'-64px',fontWeight:'bold',fontSize:'22px'}}>“集”中生智——密集人群态势智能感知平台</div>\r\n            </Header>\r\n            {isEnter && <div className='board-header'>\r\n                <h1 className='board-title' style={{ fontFamily: \"myFont\" }}>{SYSTEM_NAME.split(\"：\")[1]}</h1>\r\n                <div className=\"showTime\">{showTime()}</div>\r\n            </div>}\r\n            {/* {isGraph && <div\r\n                className='detail'\r\n                onClick={handleMouseClick}\r\n                onMouseEnter={handleMouseEnter}\r\n                onMouseLeave={!stopMouseLeave && handleMouseLeave}\r\n            >详情</div>} */}\r\n            <Content\r\n                className={isEnter ? \"site-layout-active\" : \"site-layout\"}\r\n                style={{\r\n                    padding: '0 50px',\r\n                    marginTop: 64,\r\n                }}\r\n            >\r\n                {!isEnter && <Breadcrumb\r\n                    style={{\r\n                        margin: '16px 0',\r\n                    }}\r\n                >\r\n                    <Breadcrumb.Item>App</Breadcrumb.Item>\r\n                    <Breadcrumb.Item>{findLabel(item.key)}</Breadcrumb.Item>\r\n                </Breadcrumb>}\r\n                <div\r\n                    className=\"site-layout-background\"\r\n                    style={{\r\n                        padding: 24,\r\n                        minHeight: 380,\r\n                        marginTop:30\r\n                    }}\r\n                >\r\n                    <MainBox item={item} />\r\n                </div>\r\n            </Content>\r\n            {!isEnter && <Footer\r\n                style={{\r\n                    textAlign: 'center',\r\n                    letterSpacing: '2px',\r\n                    color: \"#aaa\"\r\n                }}\r\n            >\r\n                {SYSTEM_NAME}\r\n            </Footer>}\r\n        </Layout >\r\n        </div>\r\n    );\r\n}\r\n\r\n"],"mappings":";;AAAA,SAASA,UAAU,EAAEC,MAAM,EAAEC,IAAI,QAAQ,MAAM;AAC/C,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAO,aAAa;AACpB,OAAOC,OAAO,MAAM,oBAAoB;AACxC,SAASC,QAAQ,EAAEC,QAAQ,QAAQ,mBAAmB;AACtD,OAAOC,MAAM,MAAM,WAAW;AAC9B,SAASC,QAAQ,QAAQ,sBAAsB;AAC/C,OAAOC,eAAe,MAAO,sBAAsB;AAAA;AAEnD,MAAM;EAAEC,MAAM;EAAEC,OAAO;EAAEC;AAAO,CAAC,GAAGd,MAAM;AAC1C,MAAMe,KAAK,GAAG,CACV;EACIC,GAAG,EAAE,UAAU;EACfC,KAAK,EAAE;AACX,CAAC,EACD;EACID,GAAG,EAAE,YAAY;EACjBC,KAAK,EAAE;AACX,CAAC,CACJ;AAGD,eAAe,SAASC,UAAU,GAAG;EAAA;EACjC,MAAMC,QAAQ,GAAGjB,WAAW,EAAE;EAC9B,MAAM,CAACkB,IAAI,EAAEC,OAAO,CAAC,GAAGhB,QAAQ,CAAC;IAAE,KAAK,EAAE,UAAU;IAAE,OAAO,EAAE;EAAK,CAAC,CAAC;EACtE,MAAMiB,WAAW,GAAG,EAAE;EACtB,MAAMC,OAAO,GAAGhB,QAAQ,CAAC,SAAS,CAAC;EACnC,MAAM,CAACiB,OAAO,EAAEC,UAAU,CAAC,GAAGpB,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACqB,cAAc,EAAEC,iBAAiB,CAAC,GAAGtB,QAAQ,CAAC,KAAK,CAAC;EAE3DD,SAAS,CAAC,MAAM;IACZ,IAAIgB,IAAI,CAACJ,GAAG,KAAK,YAAY,EAAE;MAC3BR,QAAQ,CAAC,SAAS,EAAE,KAAK,CAAC;IAC9B;IACAW,QAAQ,CAACC,IAAI,CAACJ,GAAG,CAAC;EACtB,CAAC,EAAE,CAACI,IAAI,EAAED,QAAQ,EAAEI,OAAO,CAAC,CAAC;EAE7B,MAAMK,WAAW,GAAIC,GAAG,IAAK;IACzBR,OAAO,CAACQ,GAAG,CAAC;IACZV,QAAQ,CAACU,GAAG,CAACb,GAAG,EAAE;MAAEc,OAAO,EAAE;IAAM,CAAC,CAAC;EACzC,CAAC;EAED,MAAMC,SAAS,GAAIf,GAAG,IAAK;IACvB,KAAK,MAAMI,IAAI,IAAIL,KAAK,EAAE;MACtB,IAAIK,IAAI,CAACJ,GAAG,KAAKA,GAAG,EAAE;QAClB,OAAOI,IAAI,CAACH,KAAK;MACrB;IACJ;IACA,OAAO,EAAE;EACb,CAAC;EAED,MAAMe,gBAAgB,GAAG,MAAM;IAC3B,IAAIN,cAAc,EAAE;MAChBO,WAAW,CAAC,KAAK,CAAC;MAClB;MACAN,iBAAiB,CAAC,KAAK,CAAC;IAC5B,CAAC,MAAM;MACHM,WAAW,CAAC,IAAI,CAAC;MACjB;MACAN,iBAAiB,CAAC,IAAI,CAAC;IAC3B;EACJ,CAAC;EAED,MAAMO,gBAAgB,GAAG,MAAM;IAC3BD,WAAW,CAAC,IAAI,CAAC;EACrB,CAAC;EAED,MAAME,gBAAgB,GAAG,MAAM;IAC3BF,WAAW,CAAC,KAAK,CAAC;EACtB,CAAC;EAED,MAAMA,WAAW,GAAIG,IAAI,IAAK;IAC1BX,UAAU,CAACW,IAAI,CAAC;IAChB3B,MAAM,CAAC4B,OAAO,CAAC,SAAS,EAAED,IAAI,CAAC;EACnC,CAAC;EAED,oBACI;IAAA,wBACA,QAAC,eAAe;MAAA;MAAA;MAAA;IAAA,QAAG,eACnB,QAAC,MAAM;MAAC,SAAS,EAAE,QAAS;MAAA,wBACxB,QAAC,MAAM;QACH,SAAS,EAAEZ,OAAO,GAAG,eAAe,GAAG,EAAG;QAC1C,KAAK,EAAE;UACHc,QAAQ,EAAE,OAAO;UACjBC,MAAM,EAAE,CAAC;UACTC,KAAK,EAAE;QACX,CAAE;QAAA,wBAEF;UAAK,SAAS,EAAC;QAAM;UAAA;UAAA;UAAA;QAAA,QAAG,eACxB,QAAC,IAAI;UACD,KAAK,EAAC,MAAM;UACZ,IAAI,EAAC,YAAY;UACjB,mBAAmB,EAAEpB,IAAI,CAACJ,GAAI;UAC9B,YAAY,EAAEI,IAAI,CAACJ,GAAI;UACvB,OAAO,EAAGa,GAAG,IAAKD,WAAW,CAACC,GAAG,CAAE;UACnC,KAAK,EAAEd;QAAM;UAAA;UAAA;UAAA;QAAA,QACf,eACF;UAAK,KAAK,EAAE;YAAC0B,KAAK,EAAC,OAAO;YAAEC,MAAM,EAAC,QAAQ;YAACF,KAAK,EAAC,OAAO;YAACG,SAAS,EAAC,QAAQ;YAACC,SAAS,EAAC,OAAO;YAACC,UAAU,EAAC,MAAM;YAACC,QAAQ,EAAC;UAAM,CAAE;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAA2B;MAAA;QAAA;QAAA;QAAA;MAAA,QACxJ,EACRtB,OAAO,iBAAI;QAAK,SAAS,EAAC,cAAc;QAAA,wBACrC;UAAI,SAAS,EAAC,aAAa;UAAC,KAAK,EAAE;YAAEuB,UAAU,EAAE;UAAS,CAAE;UAAA,UAAEzB,WAAW,CAAC0B,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;QAAC;UAAA;UAAA;UAAA;QAAA,QAAM,eAC7F;UAAK,SAAS,EAAC,UAAU;UAAA,UAAEtC,QAAQ;QAAE;UAAA;UAAA;UAAA;QAAA,QAAO;MAAA;QAAA;QAAA;QAAA;MAAA,QAC1C,eAON,QAAC,OAAO;QACJ,SAAS,EAAEc,OAAO,GAAG,oBAAoB,GAAG,aAAc;QAC1D,KAAK,EAAE;UACHyB,OAAO,EAAE,QAAQ;UACjBL,SAAS,EAAE;QACf,CAAE;QAAA,WAED,CAACpB,OAAO,iBAAI,QAAC,UAAU;UACpB,KAAK,EAAE;YACHkB,MAAM,EAAE;UACZ,CAAE;UAAA,wBAEF,QAAC,UAAU,CAAC,IAAI;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAAsB,eACtC,QAAC,UAAU,CAAC,IAAI;YAAA,UAAEX,SAAS,CAACX,IAAI,CAACJ,GAAG;UAAC;YAAA;YAAA;YAAA;UAAA,QAAmB;QAAA;UAAA;UAAA;UAAA;QAAA,QAC/C,eACb;UACI,SAAS,EAAC,wBAAwB;UAClC,KAAK,EAAE;YACHiC,OAAO,EAAE,EAAE;YACXC,SAAS,EAAE,GAAG;YACdN,SAAS,EAAC;UACd,CAAE;UAAA,uBAEF,QAAC,OAAO;YAAC,IAAI,EAAExB;UAAK;YAAA;YAAA;YAAA;UAAA;QAAG;UAAA;UAAA;UAAA;QAAA,QACrB;MAAA;QAAA;QAAA;QAAA;MAAA,QACA,EACT,CAACI,OAAO,iBAAI,QAAC,MAAM;QAChB,KAAK,EAAE;UACHmB,SAAS,EAAE,QAAQ;UACnBQ,aAAa,EAAE,KAAK;UACpBV,KAAK,EAAE;QACX,CAAE;QAAA,UAEDnB;MAAW;QAAA;QAAA;QAAA;MAAA,QACP;IAAA;MAAA;MAAA;MAAA;IAAA,QACH;EAAA;IAAA;IAAA;IAAA;EAAA,QACJ;AAEd;AAAC,GA7HuBJ,UAAU;EAAA,QACbhB,WAAW;AAAA;AAAA,KADRgB,UAAU;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}